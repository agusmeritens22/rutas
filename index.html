<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SOLGISTICA ¬∑ Planificador de Rutas</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fuente -->
  <link href="https://fonts.googleapis.com/css2?family=Questrial&display=swap" rel="stylesheet">
  <style>
    :root { --glass: rgba(255,255,255,.65); }
    html,body{height:100%}
    body{font-family:'Questrial',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:#f4f6fb}
    .container-max{max-width:1200px;margin:0 auto}
    .card{background:var(--glass); backdrop-filter:saturate(120%) blur(16px); border:1px solid rgba(255,255,255,.4)}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace}
    /* Tabla m√°s c√≥moda */
    #inputTable th, #inputTable td{padding:14px 16px; vertical-align:middle; text-align:left}
    #inputTable input{padding:10px 14px; font-size:14px; border-radius:10px; border:1px solid #d1d5db; width:100%}
    #inputTable td:first-child + td input{min-width:200px; font-weight:600; font-size:15px}
    textarea#links{padding:14px 16px; border-radius:12px; border:1px solid #cbd5e1}
  </style>
</head>

<body class="text-slate-800">
  <!-- Banner simple -->
  <header class="w-full bg-gradient-to-r from-slate-900 via-rose-900/70 to-rose-600 text-white">
    <div class="container-max px-4 py-4 flex items-center justify-between">
      <div class="text-lg tracking-widest">SOLGISTICA</div>
      <div class="text-xs opacity-80">Planificador de Rutas</div>
    </div>
  </header>

  <main class="container-max p-4 sm:p-6 space-y-6">
    <section class="grid grid-cols-1 xl:grid-cols-3 gap-4">
      <!-- Columna izquierda (2/3): entradas y tabla -->
      <div class="xl:col-span-2 space-y-5">
        <!-- Entradas -->
        <div class="card rounded-2xl shadow px-4 sm:px-6 py-5">
          <label for="links" class="block text-sm font-semibold mb-2">Direcciones o links (uno por l√≠nea):</label>
          <textarea id="links" class="w-full h-44 mono"
            placeholder="Formato recomendado: Local | Direcci√≥n
Ej:
La Esquina Market | Buenos Aires 787, B7240 Lobos, BA
Carnicer√≠a El Toro | Hip√≥lito Yrigoyen 295, B7240 Lobos, BA"></textarea>

          <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3">
            <label class="text-sm flex items-center gap-2">
              <input id="autoRun" type="checkbox" class="w-4 h-4 rounded" checked>
              Auto-geocodificar y optimizar
            </label>

            <label class="text-sm flex items-center gap-2">
              <span>Velocidad media (km/h):</span>
              <input id="avgSpeed" type="number" min="1" step="1" value="40" class="w-24 p-2 border rounded-lg text-sm" />
            </label>

            <label class="text-sm flex items-center gap-2">
              <span>Estad√≠a por parada (min):</span>
              <input id="defaultDwell" type="number" min="0" step="1" value="10" class="w-24 p-2 border rounded-lg text-sm" />
            </label>

            <label class="text-sm flex items-center gap-2">
              <span>Hora de inicio:</span>
              <input id="startTime" type="time" class="p-2 border rounded-lg text-sm" value="08:00" />
            </label>

            <label class="text-sm flex items-center gap-2">
              <span>Apertura (default):</span>
              <input id="defaultOpen" type="time" class="p-2 border rounded-lg text-sm" placeholder="08:00" />
            </label>

            <label class="text-sm flex items-center gap-2">
              <span>Cierre (default):</span>
              <input id="defaultClose" type="time" class="p-2 border rounded-lg text-sm" placeholder="18:00" />
            </label>

            <label class="text-sm flex items-center gap-2">
              <input id="circular" type="checkbox" class="w-4 h-4 rounded">
              Ruta circular
            </label>

            <label class="text-sm flex items-center gap-2">
              <input id="enforceWindows" type="checkbox" class="w-4 h-4 rounded" checked>
              Respetar ventanas horarias
            </label>
          </div>

          <div class="mt-4 flex flex-wrap gap-3">
            <button id="oneClick" class="px-4 py-2 rounded-xl bg-sky-700 text-white shadow hover:bg-sky-800">
              Pegar y Optimizar
            </button>
            <button id="updateBtn" class="px-4 py-2 rounded-xl bg-amber-500 text-white hover:bg-amber-600">
              Actualizar
            </button>
            <button id="clearBtn" class="px-4 py-2 rounded-xl bg-slate-200 text-slate-800 hover:bg-slate-300">
              Limpiar
            </button>
          </div>
        </div>

        <!-- Puntos detectados -->
        <div id="inputTableWrap" class="card rounded-2xl shadow px-4 sm:px-6 py-5 hidden">
          <h2 class="text-lg font-semibold mb-3">Puntos detectados</h2>
          <div class="overflow-x-auto">
            <table class="min-w-full text-xs md:text-sm">
              <thead>
                <tr class="text-left text-slate-600">
                  <th class="py-2 px-4">#</th>
                  <th class="py-2 px-4">Local</th>
                  <th class="py-2 px-4">Direcci√≥n</th>
                  <th class="py-2 px-4">Lat</th>
                  <th class="py-2 px-4">Lng</th>
                  <th class="py-2 px-4">Precisi√≥n</th>
                  <th class="py-2 px-4">Estad√≠a</th>
                  <th class="py-2 px-4">Abre</th>
                  <th class="py-2 px-4">Cierra</th>
                </tr>
              </thead>
              <tbody id="inputTable"></tbody>
            </table>
          </div>
          <div class="mt-3 text-xs text-slate-600">
            Pod√©s editar <strong>Local</strong>, <strong>Abre/Cierra</strong> y <strong>Estad√≠a</strong>. El cronograma usa estos valores.
          </div>
        </div>
      </div>

      <!-- Columna derecha (1/3): estado y resultados -->
      <aside class="xl:col-span-1 space-y-5">
        <div class="card rounded-2xl shadow px-4 sm:px-6 py-5">
          <h3 class="font-semibold mb-2">Estado</h3>
          <div id="status" class="text-xs text-slate-600">Listo. Peg√° direcciones para comenzar‚Ä¶</div>

          <h3 class="font-semibold mt-4 mb-2">Resultados</h3>
          <div id="results" class="text-sm space-y-2"><p class="text-slate-600">A√∫n sin resultados.</p></div>

          <div class="mt-4 flex flex-col gap-2">
            <button id="copyOrder" class="px-3 py-2 rounded-xl bg-slate-200 text-slate-800 hover:bg-slate-300">Copiar orden</button>
            <button id="exportCsv" class="px-3 py-2 rounded-xl bg-sky-700 text-white hover:bg-sky-800">Exportar CSV</button>
            <button id="downloadPdf" class="px-3 py-2 rounded-xl bg-sky-700 text-white hover:bg-sky-800">Descargar PDF</button>
          </div>
        </div>
      </aside>
    </section>
  </main>

  <!-- App -->
  <script src="app.js?v=16"></script>

  <!-- Geocoder config -->
  <script>
    // üîë Coloc√° tu API Key de OpenCage
    window.GEOCODER = { provider: 'opencage', key: 'AQUI_TU_API_KEY' };
  </script>
</body>
</html>
